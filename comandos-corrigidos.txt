# üîß Comandos Corrigidos - Teste do Sistema de Miss√µes

## Token:
```
eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8
```

## üîÑ 1. Reset completo para testes (execute primeiro)

### Reset XP do usu√°rio 1:
```cmd
curl -X POST "http://localhost:8080/api/xp/1/reset" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Reset miss√µes (recria com dados corretos):
```cmd
curl -X POST "http://localhost:8080/api/missions/reset" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

## ‚úÖ 2. Testes corrigidos

### Verificar XP inicial (deve ser 0, n√≠vel 1):
```cmd
curl -X GET "http://localhost:8080/api/xp/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Listar miss√µes dispon√≠veis (deve mostrar 3 de n√≠vel 1):
```cmd
curl -X GET "http://localhost:8080/api/missions/available/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDlzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Completar "Primeira Explora√ß√£o" (20 XP, n√£o-repet√≠vel):
```cmd
curl -X POST "http://localhost:8080/api/missions/1/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Verificar XP (deve ter 20 XP, n√≠vel 1):
```cmd
curl -X GET "http://localhost:8080/api/xp/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Completar "Coletando Recursos" (15 XP, repet√≠vel):
```cmd
curl -X POST "http://localhost:8080/api/missions/2/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Verificar XP (deve ter 35 XP, n√≠vel 1):
```cmd
curl -X GET "http://localhost:8080/api/xp/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Tentar completar "Primeira Explora√ß√£o" novamente (deve dar erro):
```cmd
curl -X POST "http://localhost:8080/api/missions/1/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Completar "Coletando Recursos" novamente (deve funcionar - repet√≠vel):
```cmd
curl -X POST "http://localhost:8080/api/missions/2/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Verificar XP (deve ter 50 XP, n√≠vel 1):
```cmd
curl -X GET "http://localhost:8080/api/xp/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Completar mais miss√µes para testar level up (terceira miss√£o - 10 XP):
```cmd
curl -X POST "http://localhost:8080/api/missions/3/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Completar mais vezes a miss√£o repet√≠vel para chegar a 100 XP e fazer level up:
```cmd
curl -X POST "http://localhost:8080/api/missions/2/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

```cmd
curl -X POST "http://localhost:8080/api/missions/2/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

```cmd
curl -X POST "http://localhost:8080/api/missions/2/complete/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Verificar XP ap√≥s level up (deve ser n√≠vel 2):
```cmd
curl -X GET "http://localhost:8080/api/xp/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Verificar hist√≥rico de miss√µes (agora corrigido):
```cmd
curl -X GET "http://localhost:8080/api/missions/history/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

### Listar miss√µes dispon√≠veis para n√≠vel 2 (deve mostrar miss√µes de n√≠vel 2):
```cmd
curl -X GET "http://localhost:8080/api/missions/available/1" -H "Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ4NDQyNDA2LCJleHAiOjE3NDkzMDY0MDZ9.Zou6Z8jA0fS9Q3AGQLg-jAg9z43bz8kUp_HcdEIQ6b8"
```

## üéØ Problemas corrigidos:

1. ‚úÖ **XP negativo**: Corrigido o algoritmo de level up
2. ‚úÖ **Miss√µes repet√≠veis**: Agora miss√£o ID 2 √© repet√≠vel
3. ‚úÖ **Erro de serializa√ß√£o**: Criado DTO espec√≠fico para hist√≥rico
4. ‚úÖ **Valores de XP**: Ajustados para facilitar testes
5. ‚úÖ **Endpoints de reset**: Para facilitar testes

## üìä Expectativa dos testes:

- **XP inicial**: 0, n√≠vel 1
- **Ap√≥s miss√£o 1**: 20 XP, n√≠vel 1
- **Ap√≥s miss√£o 2**: 35 XP, n√≠vel 1
- **Erro ao repetir miss√£o 1**: "Voc√™ j√° completou esta miss√£o"
- **Sucesso ao repetir miss√£o 2**: +15 XP
- **Ap√≥s v√°rias repeti√ß√µes**: Level up para n√≠vel 2
- **Hist√≥rico**: Funciona sem erro de serializa√ß√£o
- **Miss√µes dispon√≠veis**: Muda conforme o n√≠vel
